@model IEnumerable<Atenda.Data.Agenda>

@{
    ViewBag.Title = "Lista de Agendamentos";
}

@if (TempData["Mensagem"] != null)
{
    if (TempData["Tipo"] == "ok")
    {
        <div class="alert alert-success" style="margin-top:20px; width:20%">
            @TempData["Mensagem"]
        </div>
    }
    if (TempData["Tipo"] == "bad")
    {
        <div class="alert alert-danger" style="margin-top:20px; width:20%">
            @TempData["Mensagem"]
        </div>
    }

}

<h1>Lista de agendamentos</h1>

@using (Html.BeginForm())
{
    <div class="form-horizontal col-md-10" style="padding: 0px; margin-top: 2px;">
        @Html.DropDownList("Search", null, string.Empty, new { @class = "form-control" })
    </div>
    <div class="form-horizontal col-md-10" style="margin-top:2px;padding:inherit">
        <input type="text" name="NomeSearch" class="form-control" />
    </div>
    <button class="btn btn-link" type="submit" style="padding:initial"><img class="img-responsive" title="Buscar por Tecnico" src="~/Image/SearchOption_Icon-Atenda.png"></button>
    <a href="~/Agenda/CreateAgenda" class="btn btn-xs col-md-offset-10" style="float:right;margin-left:0%;margin-top:-16px"><img class="img-responsive" title="Novo Orçamento" src="~/Image/CreateOption_Icon-Atenda.png"></a>
}

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.TecnicoNome)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ClienteNome)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Hora)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Data)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Local)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Status)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>

            @Html.HiddenFor(modelItem => item.IdAgenda)

        <td>
            @Html.DisplayFor(modelItem => item.TecnicoNome)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ClienteNome)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Hora)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Data)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Local)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Status)
        </td>
        <td>
            @Html.Raw(@Html.ActionLink("[replacetext]", "DetailsAgenda", new { pId = item.IdAgenda }).ToHtmlString().Replace("[replacetext]", "<img src=\"/Image/DetailsOption_Icon-Atenda.png\" ... />"))
            @Html.Raw(@Html.ActionLink("[replacetext]", "EditAgenda", new { pId = item.IdAgenda }).ToHtmlString().Replace("[replacetext]", "<img src=\"/Image/UpdateOption_Icon-Atenda.png\" ... />"))
            @Html.Raw(@Html.ActionLink("[replacetext]", "DeleteAgenda", new { pId = item.IdAgenda }).ToHtmlString().Replace("[replacetext]", "<img src=\"/Image/DeleteOption_Icon-Atenda.png\" ... />"))
        </td>
    </tr>
}

</table>
<div>
    <button class="btn btn-link" onclick="goBack()"><img src="/Image/BackOption_Icon-Atenda.png" /></button>
</div>